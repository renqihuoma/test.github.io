<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正在跳转...</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- 跳转提示 -->
        <div class="text-center">
            <div class="w-12 h-12 border-4 border-blue-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-gray-700 mb-2">正在跳转，请稍候...</p>
            <p class="text-gray-500 text-sm" id="redirectMessage">如果长时间未跳转，请点击下方链接</p>
            <a id="directLink" href="#" class="text-blue-500 text-sm mt-2 inline-block hover:underline">直接访问</a>
        </div>
    </div>

    <script>
        // Base64解码函数
        function base64Decode(str) {
            try {
                return decodeURIComponent(escape(atob(str)));
            } catch (e) {
                return null;
            }
        }

        // 获取URL参数
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // 执行跳转
        function redirectToUrl() {
            const encodedUrl = getQueryParam('c');
            const directLink = document.getElementById('directLink');
            const redirectMessage = document.getElementById('redirectMessage');
            
            if (!encodedUrl) {
                redirectMessage.textContent = '未找到有效的链接参数';
                directLink.style.display = 'none';
                return;
            }

            const originalUrl = base64Decode(encodedUrl);
            if (!originalUrl) {
                redirectMessage.textContent = '链接格式不正确';
                directLink.style.display = 'none';
                return;
            }

            // 设置直接访问链接
            directLink.href = originalUrl;
            
            // 尝试自动跳转
            try {
                window.location.href = originalUrl;
            } catch (e) {
                redirectMessage.textContent = '跳转失败，请点击下方链接';
            }
        }

        // 页面加载完成后执行跳转
        window.addEventListener('DOMContentLoaded', redirectToUrl);
    </script>
</body>
</html>
